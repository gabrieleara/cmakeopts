option(CPACK_ENABLE_RPM
    "Whether a RPM package should be generated by CPack" OFF
)

if (CPACK_ENABLE_RPM)
    # Add the generator to the list of active ones
    list(APPEND CPACK_GENERATOR RPM)
    list(APPEND CPACK_SOURCE_GENERATOR RPM)

    # FIXME: allow the user to set the right license

    # RPM package generator specific options
    # set(CPACK_RPM_COMPONENT_INSTALL ON)
    set(CPACK_RPM_INSTALL_WITH_EXEC TRUE)
    set(CPACK_RPM_PACKAGE_REQUIRES "")
    set(CPACK_RPM_PACKAGE_LICENSE "GPLv3")
    list(APPEND CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST_ADDITION "/usr/sbin")
endif (CPACK_ENABLE_RPM)
